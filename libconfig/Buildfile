# Description: a simple library for processing structured configuration files
# URL: http://www.hyperrealm.com/libconfig/
# License: LGPLv2.1

name=libconfig
version=1.6
release=1
source=(http://mirror.mini-distribution.io/libconfig-$version.tar.gz)

build() {
   cd $name-$version

   ./configure --host=$HOST \
               --build=$BUILD \
               --prefix=/usr \
               --disable-examples

   # Remove auto-generated sources which are only for version 1.5
   rm lib/scanner.{c,h}

   # Cannot build in parallel when the scanner.[ch] files are to be generated by the make call
   make
   make DESTDIR=$PKG install

   # Clean up
   rm -rf $PKG/usr/lib/cmake
}
